(()=>{(()=>{"use strict";const b=/[a-z0-9][a-z0-9-]*\.[a-z]+$/i,N=/[a-z0-9][a-z0-9-]+\.[a-z.]{2,6}$/i;function L(n){let e=N,t=n.split("."),o=t[t.length-1];(o.length>4||o==="com"||o==="org"||o==="net")&&(e=b);let s=n.match(e);return s?s[0]:n}function C(n){let e="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ".split("");n||(n=Math.floor(Math.random()*e.length));let t="";for(let o=0;o<n;o++)t+=e[Math.floor(Math.random()*e.length)];return t}function h(n,e){let t=e.createElement("img");return t.height=1,t.width=1,t.style.display="none",t.src=n,t.alt="",t}function M(n,e,t,o){let s=e.createElement(t);s.async=!0,s.crossorigin="anonymous",s.src=o;let r=e.getElementsByTagName(t)[0];r.parentNode.insertBefore(s,r)}const v="1d";function O(n){const e="au/test";try{return n.localStorage.setItem(e,e),n.localStorage.removeItem(e),!0}catch(t){return!1}}function E(n,e){const t=n.localStorage.getItem("au/"+e);return t?JSON.parse(t).v:null}function y(n,e,t){n.localStorage.setItem("au/"+e,JSON.stringify({v:t,e:0}))}function I(n,e){const t="_au_"+e+"=",s=decodeURIComponent(n.cookie).split(";");for(const r of s){const i=r.trimStart();if(i.startsWith(t))return i.substring(t.length,i.length)}return null}function g(n,e,t,o=31536e3){n.cookie="_au_"+e+"="+encodeURIComponent(t)+"; domain="+L(n.location.hostname)+"; secure; samesite=none; path=/; max-age="+o}const Y=null,k="https://p.ad.gt",P="https://ids.ad.gt",T="https://ids4.ad.gt",U="https://cdn.hadronid.net",H={apn:[32,1,0],ttd:[21,1,0],adx:[755,0,0],ado:[565,0,0],pub:[76,0,0],son:[104,1,0],goo:[561,0,0],rub:[52,1,0],impr:[253,0,0],smart:[45,1,0],ppnt:[81,0,0],unruly:[36,0,0],openx:[69,0,0],tapad:[89,0,0],index:[10,1,1],onetag:[241,1,0]};function $(n,e,t){if(t)return E(n,"last_seen_pixels");{const o=I(e,"last_seen_pixels");return o?JSON.parse(atob(o)):null}}function V(n,e,t,o){t?(g(e,"last_seen_pixels","",0),y(n,"last_seen_pixels",o)):g(e,"last_seen_pixels",btoa(JSON.stringify(o)))}function z(n,e,t,o,s,r){const i=s.pixels,a=O(n),l=$(n,e,a)||{},d=57600,c=Math.round(new Date/1e3);let u=0;for(const f of i){if(u>9)break;const p=f[0],[S,j,F]=H[p]||[void 0,void 0,void 0];let _;if(F===1){if(o==null)continue;_=f[1].replace(/\[HID\]/g,o)}else _=f[1].replace(/\[AU1D\]/g,t);if((r==null?void 0:r.gdprApplies)===!0&&(S===void 0||r.vendor.consents[S]!==!0))continue;if((parseInt(l[p])||0)+d<c){j===1&&((r==null?void 0:r.gdprApplies)===!0?_+="&gdpr=1&gdpr_consent="+(r.tcString||""):_+="&gdpr=0");const D=h(_,e);e.body.appendChild(D),p!=="ip"&&(l[p]=c),u+=1}g(e,"last_seen_"+p,"",0)}g(e,"last_seen_pixels","",0),V(n,e,a,l)}function G(n,e,t){const o=`${T}/api/v1/ip_match?id=${t}`,s=h(o,e);e.body.appendChild(s)}const J=561;function m(n){if((n==null?void 0:n.gdprApplies)===!0){const e=n.purpose.consents,t=Object.keys(e).filter(o=>e[o]===!0);return n.vendor.consents[561]&&["1","2","3","4","9"].every(o=>t.includes(o))}return!1}function A(n,e){n.au||(n.au=[]),n.au.push({category:"sendConsent",consented:e.vendor.consents[J]||!1,consentType:e.gppString?"gpp":"tcf",consentString:e.tcString||e.gppString})}function R(n,e,t,o,s){var r,i,a;if((s==null?void 0:s.eventName)==="listenerRegistered"&&(s==null?void 0:s.data)===!0||(s==null?void 0:s.eventName)==="cmpDisplayStatus"&&(s==null?void 0:s.data)==="hidden"){__gpp("removeEventListener",R);try{const l=(r=s==null?void 0:s.pingData)==null?void 0:r.gppString,d={gdprApplies:!0,purpose:{consents:{}},vendor:{consents:{}},gppString:l},c=(a=(i=s==null?void 0:s.pingData)==null?void 0:i.parsedSections)==null?void 0:a.tcfeuv2,u=Array.isArray(c)?c[0]:c,f=(u==null?void 0:u.PurposeConsents)||(u==null?void 0:u.PurposeConsent),p=(u==null?void 0:u.VendorConsents)||(u==null?void 0:u.VendorConsent);B(d.purpose.consents,f),Array.isArray(p)&&p.forEach(S=>{d.vendor.consents[S]=!0}),m(d)&&(A(n,d),t(n,e,o,d))}catch(l){console.warn("[Audigent] Unable to retrieve/parse GDPR consent data from __gpp. Halt execution.")}}}function B(n,e){Array.isArray(e)&&e.length>0&&(typeof e[0]=="boolean"?e.forEach((t,o)=>{n[(o+1).toString()]=t}):typeof e[0]=="number"&&e.forEach(t=>{n[t]=!0}))}function x(n,e,t,o,s,r){r&&s.eventStatus==="tcloaded"&&(n.__tcfapi("removeEventListener",2,i=>{},function(i,a){x(n,e,t,o,i,a)}),m(s)&&(A(n,s),t(n,e,o,s))),r&&s.eventStatus==="useractioncomplete"&&m(s)&&(A(n,s),t(n,e,o,s))}function W(n,e,t,o){let s=0;const r=setInterval(()=>{(o.disable_consent_management?!1:o.gdpr_applies)?typeof n.__tcfapi=="function"?(clearInterval(r),n.__tcfapi("addEventListener",2,function(a,l){x(n,e,t,o,a,l)})):typeof n.__gpp=="function"?(clearInterval(r),n.__gpp("addEventListener",function(a){R(n,e,t,o,a)})):s>=10?(clearInterval(r),console.warn("[Audigent] cannot find a required consent framework, halt execution")):console.warn("[Audigent] cannot find a required consent framework, attempt %d",s):(clearInterval(r),t(n,e,o,{gdprApplies:!1})),s+=1},150)}function q(n,e,t,o){var s;const r=(s=n.hadron)==null?void 0:s.id;if(r){const i=`${P}/api/v1/halo_match?id=${t}&halo_id=${r}`,a=h(i,e);return e.body.appendChild(a),r}else return M(n,e,"script",`${U}/hadron.js?partner_id=${o}&sync=1&url=${encodeURIComponent(n.location.href)}`),null}function K(n){n.cookie="au_3p_check=1; Domain=.ad.gt; Path=/; SameSite=None; Secure; HttpOnly"}function X(n,e,t){K(e),g(e,v,t),y(n,v,t)}(function(){function n(){const i=Math.round(Date.now()/1e3);return"AU1D-0100-"+String(i).padStart(12,"0")+"-"+C(8)+"-"+C(4)}function e(i,a){let l=E(i,v);return l!=null||(l=I(a,v),l!=null)?l:n()}function t(i,a,l,d){const c=l.partner_id;if(i.auvars=i.auvars||{},i.auvars[c]=i.auvars[c]||{},i.auvars[c].a_loaded===!0){console.warn("[Audigent] script has already been initialised. Skip further execution");return}const u=e(i,a),f=q(i,a,u,c);X(i,a,u),i.auvars.a=u,i.auvars[c].a_loaded=!0,i.auvars[c].p=c,i.auvars[c].a=u,i.auvars[c].tcdata=d,i.auvars[c].ga4=l.use_ga4,i.auvars[c].fbq=l.use_facebook,i.auvars[c].tgs=l.tagger_strategy,i.auvars[c].disable_ecommerce=l.disable_ecommerce,G(i,a,u),z(i,a,u,f,l,d);let p=a.createElement("script");p.src=`${k}/api/v1/p/${c}`,p.async=1,a.head.appendChild(p)}const o=window,r=JSON.parse(o.atob("eyJwYXJ0bmVyX2lkIjogIjE1OCIsICJ0YWdnZXJfc3RyYXRlZ3kiOiAiTk9ORSIsICJnZHByX2FwcGxpZXMiOiB0cnVlLCAiZGlzYWJsZV9jb25zZW50X21hbmFnZW1lbnQiOiB0cnVlLCAidXNlX2ZicSI6IGZhbHNlLCAidXNlX2dhNCI6IHRydWUsICJkaXNhYmxlX2Vjb21tZXJjZSI6IHRydWUsICJwaXhlbHMiOiBbXX0="));W(o,o.document,t,r)})()})();})();